Object.defineProperty(exports, "__esModule", { value: true });
var math_1 = require("../utils/math");
var constants_1 = require("../utils/constants");
exports.calculateConfigs = function (model) {
    var maxTo = 0;
    var cursor = 0;
    var configs = model.configs;
    for (var i = 0, ilen = configs.length; i < ilen; i++) {
        var config = configs[i];
        var times = config.keyframes.map(function (k) { return k.time; });
        var to = math_1.max.apply(constants_1._, times);
        var from = math_1.min.apply(constants_1._, times);
        config.to = to;
        config.from = from;
        config.duration = to - from;
        maxTo = math_1.max(to, maxTo);
        cursor = math_1.max(to + config.endDelay, cursor);
    }
    model.cursor = cursor;
    model.duration = maxTo;
};
