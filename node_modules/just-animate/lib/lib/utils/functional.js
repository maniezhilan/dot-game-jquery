Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("./constants");
function memoize(func) {
    var cache = [];
    return function () {
        var args = arguments;
        for (var h = 0, hlen = cache.length; h < hlen; h++) {
            var keys = cache[h].args;
            var ilen = args.length;
            if (keys.length !== ilen) {
                continue;
            }
            var matches = 0;
            for (var i = 0; i < ilen; i++) {
                if (keys[i] !== args[i]) {
                    break;
                }
                ++matches;
            }
            if (matches === ilen) {
                return cache[h].value;
            }
        }
        var value = func.apply(constants_1._, args);
        cache.push({ args: args, value: value });
        return value;
    };
}
exports.memoize = memoize;
